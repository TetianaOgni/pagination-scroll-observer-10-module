{"mappings":"gfAAAA,EAAA,SAEA,IAAMC,EAAW,gCACXC,EAAY,qBACZC,EAAU,mCAIVC,EAAOC,SAASC,cAAc,YAClBD,SAASE,eAAe,yBAkB1C,W,IAAqBC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EAC1B,OAAOE,MACL,GAAcC,OAAXX,GAAgCW,OAArBV,EAAU,aAA2BU,OAAhBT,EAAQ,UAAaS,OAALJ,EAAK,cACxDK,MAAK,SAAAC,GACL,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,M,KAIhBC,GACGN,MAAK,SAAAO,GACJhB,EAAKiB,mBAAmB,YAA0BD,EAAKE,QAUtDC,KACC,SAAAC,G,IAAGC,EAAWD,EAAXC,YAAaC,EAAKF,EAALE,M,OAASF,EAAFG,GACrB,kFAC2Ef,OAArBa,EAAY,WAI7Cb,OAJsDc,EAAM,0HAItDd,OAANc,EAAM,mH,IAO9BE,KAAK,KApBNC,QAAQC,IAAIV,E,IAEbW,OAAM,SAAAC,G,OAAOH,QAAQC,IAAIE,E","sources":["src/js/05-test-themovies.js"],"sourcesContent":["import Pagination from 'tui-pagination';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst END_POINT = 'trending/movie/day';\nconst API_KEY = '345007f9ab440e5b86cef51be6397df1';\n\nlet currentPage = 1;\n\nconst list = document.querySelector('.js-list');\nconst container = document.getElementById('pagination-container');\n\n// const loadMore = document.querySelector('.js-load');\n\n// loadMore.addEventListener('click', onLoad);\n\n// function onLoad() {\n//   currentPage += 1;\n//   getTrending(currentPage)\n//     .then(data => {\n//       list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n//       if (data.page === data.total_pages) {\n//         loadMore.hidden = true;\n//       }\n//     })\n//     .catch(err => console.log(err));\n// }\n// ----------запрос\nfunction getTrending(page = 1) {\n  return fetch(\n    `${BASE_URL}${END_POINT}?api_key=${API_KEY}&page=${page}&limit= 6`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n// ---------------\ngetTrending()\n  .then(data => {\n    list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n    // if (data.page !== data.total_pagees) {\n    //   loadMore.hidden = false;\n    // }\n    console.log(data);\n  })\n  .catch(err => console.log(err));\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ poster_path, title, id }) =>\n        `<li class='card'>\n    <img class='poster' src='https://image.tmdb.org/t/p/w200${poster_path}' alt='${title}'>\n    <div class='overlay'></div>\n    <div class='info'>\n     <div class='info-text'>\n      <p class='text-card'>${title}</p>\n      <p class='genre'>Genre</p>\n     </div>\n      <div class='raiting'>Stars</div>\n    </div>\n  </li>`\n    )\n    .join('');\n}\n"],"names":["parcelRequire","$5bab6c94e9515a88$var$BASE_URL","$5bab6c94e9515a88$var$END_POINT","$5bab6c94e9515a88$var$API_KEY","$5bab6c94e9515a88$var$list","document","querySelector","getElementById","page","arguments","length","fetch","concat","then","resp","ok","Error","statusText","json","$5bab6c94e9515a88$var$getTrending","data","insertAdjacentHTML","results","map","param","poster_path","title","id","join","console","log","catch","err"],"version":3,"file":"05-test-themovies.2583f39b.js.map"}