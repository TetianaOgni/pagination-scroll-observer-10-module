{"mappings":"YAAA,IAAMA,EAAW,gCACXC,EAAY,qBACZC,EAAU,mCAIVC,EAAOC,SAASC,cAAc,aAiBpC,W,IAAqBC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EAC1B,OAAOE,MAAM,GAAcC,OAAXV,GAAgCU,OAArBT,EAAU,aAA2BS,OAAhBR,EAAQ,UAAaQ,OAALJ,IAAQK,MACtE,SAAAC,GACE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,M,KAKlBC,GACGN,MAAK,SAAAO,GACJf,EAAKgB,mBAAmB,YAA0BD,EAAKE,QAStDC,KACC,SAAAC,G,IAAGC,EAAWD,EAAXC,YAAaC,EAAKF,EAALE,M,MACd,sDAC4Dd,OAArBa,EAAY,WACjDb,OAD0Dc,EAAM,gBAC1Dd,OAANc,EAAM,iB,IAGXC,KAAK,KAfFP,EAAKZ,OAASY,EAAKQ,eACrBC,SAASC,QAAS,E,IAGrBC,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E","sources":["src/js/02-pagination.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\nconst END_POINT = 'trending/movie/day';\nconst API_KEY = '345007f9ab440e5b86cef51be6397df1';\n\nlet currentPage = 1;\n\nconst list = document.querySelector('.js-list');\n// const loadMore = document.querySelector('.js-load');\n\n// loadMore.addEventListener('click', onLoad);\n\n// function onLoad() {\n//   currentPage += 1;\n//   getTrending(currentPage)\n//     .then(data => {\n//       list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n//       if (data.page === data.total_pages) {\n//         loadMore.hidden = true;\n//       }\n//     })\n//     .catch(err => console.log(err));\n// }\n\nfunction getTrending(page = 1) {\n  return fetch(`${BASE_URL}${END_POINT}?api_key=${API_KEY}&page=${page}`).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n\ngetTrending()\n  .then(data => {\n    list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n    if (data.page !== data.total_pagees) {\n      loadMore.hidden = false;\n    }\n  })\n  .catch(err => console.log(err));\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ poster_path, title }) =>\n        `<li>\n    <img src='https://image.tmdb.org/t/p/w200${poster_path}' alt='${title}'>\n    <h2>${title}</hi>\n  </li>`\n    )\n    .join('');\n}\n"],"names":["$f946b1f56226d4b9$var$BASE_URL","$f946b1f56226d4b9$var$END_POINT","$f946b1f56226d4b9$var$API_KEY","$f946b1f56226d4b9$var$list","document","querySelector","page","arguments","length","fetch","concat","then","resp","ok","Error","statusText","json","$f946b1f56226d4b9$var$getTrending","data","insertAdjacentHTML","results","map","param","poster_path","title","join","total_pagees","loadMore","hidden","catch","err","console","log"],"version":3,"file":"02-pagination.c9cb0e2e.js.map"}