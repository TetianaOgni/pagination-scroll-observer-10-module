{"mappings":"AAIA,IAAIA,EAAc,EAElB,MAAMC,EAAOC,SAASC,cAAc,YAC9BC,EAAWF,SAASC,cAAc,YAgBxC,SAASE,EAAYC,EAAO,GAC1B,OAAOC,MAAM,iGAAmDD,KAAQE,MACtEC,IACE,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,MAAM,G,CAcxB,SAASC,EAAaC,GACpB,OAAOA,EACJC,KACC,EAACC,YAAEA,EAAWC,MAAEA,KACd,sDACuCD,WAAqBC,gBAC1DA,oBAGLC,KAAK,G,CA3CVf,EAASgB,iBAAiB,SAE1B,WACEpB,GAAe,EACfK,EAAYL,GACTQ,MAAKa,IACJpB,EAAKqB,mBAAmB,YAAaR,EAAaO,EAAKE,UACnDF,EAAKf,OAASe,EAAKG,cACrBpB,EAASqB,QAAS,EAAI,IAGzBC,OAAMC,GAAOC,QAAQC,IAAIF,I,IAc9BtB,IACGG,MAAKa,IACJpB,EAAKqB,mBAAmB,YAAaR,EAAaO,EAAKE,UACnDF,EAAKf,OAASe,EAAKS,eACrB1B,EAASqB,QAAS,EAAK,IAG1BC,OAAMC,GAAOC,QAAQC,IAAIF","sources":["src/js/02-pagination.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\nconst END_POINT = 'trending/movie/day';\nconst API_KEY = '345007f9ab440e5b86cef51be6397df1';\n\nlet currentPage = 1;\n\nconst list = document.querySelector('.js-list');\nconst loadMore = document.querySelector('.js-load');\n\nloadMore.addEventListener('click', onLoad);\n\nfunction onLoad() {\n  currentPage += 1;\n  getTrending(currentPage)\n    .then(data => {\n      list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n      if (data.page === data.total_pages) {\n        loadMore.hidden = true;\n      }\n    })\n    .catch(err => console.log(err));\n}\n\nfunction getTrending(page = 1) {\n  return fetch(`${BASE_URL}${END_POINT}?api_key=${API_KEY}&page=${page}`).then(\n    resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    }\n  );\n}\n\ngetTrending()\n  .then(data => {\n    list.insertAdjacentHTML('beforeend', createMarkup(data.results));\n    if (data.page !== data.total_pagees) {\n      loadMore.hidden = false;\n    }\n  })\n  .catch(err => console.log(err));\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ poster_path, title }) =>\n        `<li>\n    <img src='https://image.tmdb.org/t/p/w200${poster_path}' alt='${title}'>\n    <h2>${title}</hi>\n  </li>`\n    )\n    .join('');\n}\n"],"names":["$b270896cbfd94a80$var$currentPage","$b270896cbfd94a80$var$list","document","querySelector","$b270896cbfd94a80$var$loadMore","$b270896cbfd94a80$var$getTrending","page","fetch","then","resp","ok","Error","statusText","json","$b270896cbfd94a80$var$createMarkup","arr","map","poster_path","title","join","addEventListener","data","insertAdjacentHTML","results","total_pages","hidden","catch","err","console","log","total_pagees"],"version":3,"file":"02-pagination.df8f4392.js.map"}